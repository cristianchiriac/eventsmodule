angular
	.module('app')
	.controller(
		'templatesEditController', [
			'$scope',
			'$rootScope',
			'$state',
			'$transitions',
			'$localStorage',
			'tenantService',
			'DataService',
			'AlertService',
			'generalServices',
			'templateService',

			function (
				$scope,
				$rootScope,
				$state,
				$transitions,
				$localStorage,
				tenantService,
				DataService,
				AlertService,
				generalServices,
				templateService
			) {
				let endpoint = `/${$state.params.type}/templates`,
					contentType = ($state.params.type === 'notifications') ? 'application/x.com.media-saturn.rea.email-template-update+json' : 'application/x.com.media-saturn.rea.pdf-template-update+json',
					slug = ($state.params) ? $state.params.slug : null,
					saveURL = ($state.params.slug) ? endpoint + '/' + slug : endpoint,
					templateUrl,
					tenant = tenantService.getTenant(),
					language = $scope.language || {
						original: tenantService.getLanguage(tenant)
					},
					requestLanguage;

				let model = JSON.parse('[{"tagName":"table","type":"table","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{},"attributes":{},"classes":[{"name":"c6390","label":"c6390","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"checkbox","label":"Repeatable","name":"data-repeatable","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"tbody","type":"tbody","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c4159"},"classes":[],"script":"","traits":[{"type":"collection","label":"Collection","name":"collection","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"tr","type":"tr","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c534"},"classes":[],"script":"","traits":[{"type":"collection","label":"Collection","name":"collection","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"padding":"40px"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"table","type":"table","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"width":"100%","border-collapse":"collapse","background":"#fff","border-radius":"4px"},"attributes":{},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"checkbox","label":"Repeatable","name":"data-repeatable","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"tbody","type":"tbody","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c4395"},"classes":[],"script":"","traits":[{"type":"collection","label":"Collection","name":"collection","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"tr","type":"tr","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c8648"},"classes":[],"script":"","traits":[{"type":"collection","label":"Collection","name":"collection","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"padding":"20px","font-family":"Arial, sans-serif","font-size":"16px"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"div","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{},"attributes":{"data-component":"c3841"},"classes":[{"name":"c6632","label":"c6632","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"","type":"textnode","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"Sehr ","icon":"","style":"","attributes":{"translationID":"c90785"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"id","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]},{"type":"text","label":"","name":"title","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]}],"propagate":"","components":[]},{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"title","icon":"","style":"","attributes":{"data-condition":"[{\\"type\\":\\"equals\\",\\"input\\":\\"Mr\\",\\"textArea\\":\\"geehrter Herr\\"},{\\"type\\":\\"equals\\",\\"input\\":\\"Mrs\\",\\"textArea\\":\\"geehrte Frau\\"},{\\"type\\":\\"equals\\",\\"input\\":\\"Miss\\",\\"textArea\\":\\"geehrte Frau\\"},{\\"type\\":\\"default\\",\\"input\\":null,\\"textArea\\":\\"geehrte(r)\\"}]"},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"","type":"textnode","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":" ","icon":"","style":"","attributes":{"translationID":0.5457660428491402},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"id","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]},{"type":"text","label":"","name":"title","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]}],"propagate":"","components":[]},{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"firstName","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"","type":"textnode","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":" ","icon":"","style":"","attributes":{"translationID":0.7058010233239336},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"id","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]},{"type":"text","label":"","name":"title","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]}],"propagate":"","components":[]},{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"lastName","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"","type":"textnode","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":",","icon":"","style":"","attributes":{"translationID":0.7912411825766781},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"id","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]},{"type":"text","label":"","name":"title","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]}],"propagate":"","components":[]}],"open":false},{"tagName":"div","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"Insert text here","icon":"","style":{},"attributes":{"data-component":"c2756"},"classes":[{"name":"c6764","label":"c6764","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"h3","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"Bestell√ºbersicht","icon":"","style":{},"attributes":{"data-component":"c6191"},"classes":[{"name":"c8207","label":"c8207","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"table","type":"table","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{},"attributes":{"data-dynamic":"true","data-component":"c3459"},"classes":[{"name":"c8212","label":"c8212","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"checkbox","label":"Repeatable","name":"data-repeatable","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"thead","type":"thead","name":"","removable":true,"draggable":["table"],"droppable":["tr"],"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"id","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]},{"type":"text","label":"","name":"title","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]}],"propagate":"","columns":1,"rows":1,"components":[{"tagName":"tr","type":"tr","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c3444"},"classes":[],"script":"","traits":[{"type":"collection","label":"Collection","name":"collection","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th","type":"cell","name":"","removable":true,"draggable":["tr"],"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","Padding-right":"10px","padding-left":"0 !important","Padding-top":"8px","Padding-bottom":"8px","Margin-bottom":"0","white-space":"nowrap"},"attributes":{},"classes":[{"name":"align-left","label":"align-left","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"text","label":"","name":"id","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]},{"type":"text","label":"","name":"title","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"Menge","icon":"","style":"","attributes":{"data-component":"c81"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false},{"tagName":"th","type":"cell","name":"","removable":true,"draggable":["tr"],"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","Padding-right":"10px","padding-left":"0 !important","Padding-top":"8px","Padding-bottom":"8px","Margin-bottom":"0","white-space":"nowrap"},"attributes":{},"classes":[{"name":"align-left","label":"align-left","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"text","label":"","name":"id","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]},{"type":"text","label":"","name":"title","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"Artikelnummer","icon":"","style":"","attributes":{"data-component":"c2771"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false},{"tagName":"th","type":"cell","name":"","removable":true,"draggable":["tr"],"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","Padding-right":"10px","padding-left":"0 !important","Padding-top":"8px","Padding-bottom":"8px","Margin-bottom":"0","white-space":"nowrap"},"attributes":{},"classes":[{"name":"align-left","label":"align-left","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"text","label":"","name":"id","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]},{"type":"text","label":"","name":"title","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"Bezeichnung","icon":"","style":"","attributes":{"data-component":"c2574"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false},{"tagName":"th","type":"cell","name":"","removable":true,"draggable":["tr"],"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","Padding-right":"10px","padding-left":"0 !important","Padding-top":"8px","Padding-bottom":"8px","Margin-bottom":"0","white-space":"nowrap"},"attributes":{},"classes":[{"name":"align-left","label":"align-left","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"text","label":"","name":"id","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]},{"type":"text","label":"","name":"title","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"Lieferzeit","icon":"","style":"","attributes":{"data-component":"c6320"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false},{"tagName":"th","type":"cell","name":"","removable":true,"draggable":["tr"],"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"right","Padding-right":"20px","padding-left":"0 !important","Padding-top":"8px","Padding-bottom":"8px","Margin-bottom":"0","white-space":"nowrap"},"attributes":{},"classes":[{"name":"align-right","label":"align-right","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"text","label":"","name":"id","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]},{"type":"text","label":"","name":"title","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"Einzel Preis","icon":"","style":"","attributes":{"data-component":"c487"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false},{"tagName":"th","type":"cell","name":"","removable":true,"draggable":["tr"],"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"right","Padding-right":"20px","padding-left":"0 !important","Padding-top":"8px","Padding-bottom":"8px","Margin-bottom":"0","white-space":"nowrap"},"attributes":{},"classes":[{"name":"align-right","label":"align-right","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"text","label":"","name":"id","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]},{"type":"text","label":"","name":"title","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"Preisnachlass","icon":"","style":"","attributes":{"data-component":"c2580"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false},{"tagName":"th","type":"cell","name":"","removable":true,"draggable":["tr"],"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"right","Padding-right":"0","padding-left":"0 !important","Padding-top":"8px","Padding-bottom":"8px","Margin-bottom":"0","white-space":"nowrap"},"attributes":{},"classes":[{"name":"align-right","label":"align-right","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"text","label":"","name":"id","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]},{"type":"text","label":"","name":"title","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"eg. Text here","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"Summe","icon":"","style":"","attributes":{"data-component":"c899"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false}],"open":false},{"tagName":"tbody","type":"tbody","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-th-each":"item: ${products}","data-component":"c3479"},"classes":[],"script":"","traits":[{"type":"collection","label":"Collection","name":"collection","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"tr","type":"tr","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c2915"},"classes":[],"script":"","traits":[{"type":"collection","label":"Collection","name":"collection","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c3974"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"item.quantity","icon":"","style":"","attributes":{"data-format":"${#numbers.formatDecimal(item.quantity, 0, \'COMMA\', 0, \'POINT\')}"},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c2634"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"item.articleId","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c5991"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"item.description","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c8210"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"item.deliveryTime","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"right","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{"align":"right"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c8686"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"item.unitPrice","icon":"","style":"","attributes":{"data-format":"${#numbers.formatDecimal(item.unitPrice, 0, \'COMMA\', 2, \'COMMA\')}"},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"currency","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"right","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{"align":"right"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"right","padding":"8px 0 8px 0","vertical-align":"top"},"attributes":{"align":"right"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c7434"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"item.linePrice","icon":"","style":"","attributes":{"data-format":"${#numbers.formatDecimal(item.linePrice, 0, \'COMMA\', 2, \'COMMA\')}"},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"currency","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false}],"open":false},{"tagName":"tr","type":"tr","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-th-if":"(${item.lineCharges}!=NULL)","data-th-each":"charge: ${item.lineCharges}","data-component":"c7824"},"classes":[],"script":"","traits":[{"type":"collection","label":"Collection","name":"collection","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"\\n                                            ","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"\\n                                            ","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c2404"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"charge.name","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"\\n                                            ","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"right","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{"align":"right"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c5257"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"charge.chargePerUnit","icon":"","style":"","attributes":{"data-format":"${#numbers.formatDecimal(charge.chargePerUnit, 0, \'COMMA\', 2, \'COMMA\')}"},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"currency","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"right","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{"align":"right"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"right","padding":"8px 0 8px 0","vertical-align":"top"},"attributes":{"align":"right"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c5080"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"charge.chargeAmount","icon":"","style":"","attributes":{"data-format":"${#numbers.formatDecimal(charge.chargeAmount, 0, \'COMMA\', 2, \'COMMA\')}"},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"currency","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false}],"open":false}],"open":false},{"tagName":"tbody","type":"tbody","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c4001"},"classes":[],"script":"","traits":[{"type":"collection","label":"Collection","name":"collection","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"tr","type":"tr","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c3657"},"classes":[],"script":"","traits":[{"type":"collection","label":"Collection","name":"collection","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"Express-/Wunschterminlieferung","icon":"","style":"","attributes":{"data-component":"c8160"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"left","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"right","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c6576"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"expressDelivery","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"currency","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"right","padding":"8px 20px 8px 0","vertical-align":"top"},"attributes":{"align":"right"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"border-bottom":"1px #E9E9E9 solid","font-family":"Arial, sans-serif","text-align":"right","padding":"8px 0 8px 0","vertical-align":"top"},"attributes":{"align":"right"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c8514"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"expressDelivery","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"currency","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false}],"open":false},{"tagName":"tr","type":"tr","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c3410"},"classes":[],"script":"","traits":[{"type":"collection","label":"Collection","name":"collection","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"font-family":"Arial, sans-serif","text-align":"right","padding":"10px 0 0 0"},"attributes":{"colspan":"6","align":"right"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"strong","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"Versandkosten:","icon":"","style":"","attributes":{"data-component":"c7182"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"font-family":"Arial, sans-serif","text-align":"right","padding":"10px 0 0 0"},"attributes":{"align":"right"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c1258"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"grossShippingCosts","icon":"","style":"","attributes":{"data-format":"${#numbers.formatDecimal(grossShippingCosts, 0, \'COMMA\', 2, \'COMMA\')}"},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"currency","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false}],"open":false},{"tagName":"tr","type":"tr","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c3771"},"classes":[],"script":"","traits":[{"type":"collection","label":"Collection","name":"collection","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"font-family":"Arial, sans-serif","text-align":"right","padding":"0 0 0 0"},"attributes":{"colspan":"6","align":"right"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"strong","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"Enthaltene MwSt:","icon":"","style":"","attributes":{"data-component":"c1473"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"font-family":"Arial, sans-serif","text-align":"right","padding":"0 0 0 0"},"attributes":{"align":"right"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c7499"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"overallTax","icon":"","style":"","attributes":{"data-format":"${#numbers.formatDecimal(overallTax, 0, \'COMMA\', 2, \'COMMA\')}"},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"currency","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false}],"open":false},{"tagName":"tr","type":"tr","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":true,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c5424"},"classes":[],"script":"","traits":[{"type":"collection","label":"Collection","name":"collection","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditionalParagraph","label":"Conditional","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"font-family":"Arial, sans-serif","text-align":"right","Padding":"0 0 20px 0"},"attributes":{"colspan":"6","align":"right"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"strong","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"Rechnungssumme:","icon":"","style":"","attributes":{"data-component":"c346"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false},{"tagName":"td","type":"td","name":"","removable":true,"draggable":true,"droppable":true,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":{"font-family":"Arial, sans-serif","text-align":"right","Padding":"0 0 20px 0"},"attributes":{"align":"right"},"classes":[],"script":"","traits":[{"type":"text","label":"","name":"colspan","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"span","type":"text","name":"","removable":true,"draggable":true,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":true,"resizable":false,"editable":true,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"","icon":"","style":"","attributes":{"data-component":"c7626"},"classes":[],"script":"","traits":[{"type":"conditionalParagraph","label":"Conditional Paragraph","name":"conditional_paragraph","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"grandTotal","icon":"","style":"","attributes":{"data-format":"${#numbers.formatDecimal(grandTotal, 0, \'COMMA\', 2, \'COMMA\')}"},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false},{"tagName":"th-block","type":"th-block","name":"","removable":true,"draggable":false,"droppable":false,"badgable":true,"stylable":true,"stylable-require":"","unstylable":"","highlightable":true,"copyable":false,"resizable":false,"editable":false,"layerable":true,"selectable":true,"hoverable":true,"void":false,"state":"","status":"","content":"currency","icon":"","style":"","attributes":{},"classes":[{"name":"variable","label":"variable","type":1,"active":true,"private":false,"protected":false}],"script":"","traits":[{"type":"format","label":"Format","name":"format","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]},{"type":"conditional","label":"Conditional variable","name":"conditional","min":"","max":"","unit":"","step":1,"value":"","default":"","placeholder":"","changeProp":0,"options":[]}],"propagate":"","components":[],"open":false}],"open":false}],"open":false}],"open":false}],"open":false}],"open":false}],"open":false}],"open":false}],"open":false}],"open":false}],"open":false}],"open":false}],"open":false}],"open":false}]');

				let getTemplate = (lang, setLanguage) => {
					templateUrl = ($localStorage.draft) ? endpoint + '/' + slug + '/draft' : endpoint + '/' + slug + '/published';
					/* always remove component related storage before loading a new template */
					for (let item in localStorage) {
						if (item.substring(0, 4) === 'gjs-') localStorage.removeItem(item);
					}

					$scope.type = $state.params.type;
					DataService.getData(templateUrl, 0, {
						'X-Tenant': tenant,
						'Accept-Language': $scope.language || lang.original
					})
						.then(
							response => {
								$scope.template = {};
								$scope.languages = generalServices.getLanguages(response.data.translations);
								/* Set list of available languages */
								$scope.availableLanguages = generalServices.getCountryLanguage(tenant).filter(function (n) {
									return $scope.languages.indexOf(n.isoCode) === -1;
								});

								if ($scope.language) {
									requestLanguage = lang;
								} else {
									requestLanguage = $scope.languages[0];
								}

								templateService.setContent(templateService.prepareContent(model));

								$localStorage.draftVersion = response.headers().version;
								$scope.showTemplate = true;
								if (setLanguage) $scope.language = $scope.languages[0];
								if ($state.params.type === 'notifications') {
									$scope.template.subject = response.data.translations[(requestLanguage.original) ? requestLanguage.original : requestLanguage].subject.value;
								}
								if ($state.params.type !== 'notifications') {
									$scope.requestName = response.data.name;
									$scope.template.name = $scope.requestName[$scope.language];
									$scope.placeholder = $scope.requestName[Object.keys($scope.requestName)[0]];
								}

							});
				};


				getTemplate(language, true);

				/* Configuration for dropdown-menu scrollbars */
				$scope.scrollbarsConfig = {
					autoHideScrollbar: false,
					theme: 'minimal-dark',
					axis: 'y',
					advanced: {
						updateOnContentResize: true
					},
					scrollInertia: 300,
					setHeight: 130,
				};

				/**
				 * Clear the key that is used to filter the list of languages
				 * @param  {Object} $event Object containing all event related data
				 * @return {Void}
				 */
				$scope.clear = ($event) => {
					$event.preventDefault();
					$event.stopPropagation();
					$scope.key = '';
				};

				$scope.toggleLanguageMenu = ($event) => {
					$event.preventDefault();
					$event.stopPropagation();
					$scope.newLanguages.isOpen = true;
					$scope.key = '';
					generalServices.toggleLanguageMenu($event);
				};

				/**
				 * Save the current template
				 * @param  {String} content string representing the content of the canvas
				 * @return {void}
				 */
				$scope.save = (content) => {
					let requestBody;
					if ((!$scope.template.subject && $state.params.type == 'notifications') || !$scope.template.name) {
						$scope.template.saved = true;
						return $scope.$apply();
					}

					let request = {};
					request.newContent = generalServices
						.setComponents(
							content,
							$scope.template.body || $scope.template.content,
							$scope.language
						);

					// $scope.template.translations[$scope.language] = templateService
					// 	.getTranslations(
					// 		model,
					// 		$scope.language
					// 	);

					console.log(templateService
						.getTranslations(model));

					/*
						Set subject only for email templates
					*/
					if ($state.params.type === 'notifications') {
						$scope.template.translations[$scope.language].subject = templateService.createTranslationField($scope.template.subject);
					}

					if ($state.params.type === 'notifications') {
						requestBody = {
							body: request.newContent,
							type: 'text/html',
							headers: {},
							name: $scope.template.name,
							subject: '[(#{subject})]',
							translations: $scope.template.translations
						};
					} else {
						let footer = generalServices
							.extractContent(
								request, {
									'id': 'footer'
								},
								true
							);

						let header = generalServices
							.extractContent(
								request, {
									'id': 'header'
								},
								true
							);

						$scope.requestName[$scope.language] = $scope.template.name;

						requestBody = {
							content: request.newContent,
							footer: (footer) ? footer.outerHTML : '',
							header: (header) ? header.outerHTML : '',
							name: $scope.requestName,
							translations: $scope.template.translations
						};
					}

					DataService.putData(
						saveURL, requestBody,
						'POST', {
							'Content-Type': contentType,
							'If-Match': $localStorage.draftVersion,
							'X-Tenant': tenant
						})
						.then(
							response => {
								AlertService.add(
									'success',
									'Template was saved as a draft and is pending approval'
								);
								$localStorage.draft = true;
								$localStorage.draftVersion = response.headers().version;
							},
							reason => AlertService.add(
								'danger',
								`Error ${reason.status}: ${reason.statusText}; ${reason.data.message}`
							));
				};

				$scope.addTranslation = (language) => {
					$scope.showNewLanguages = true;
				};

				$scope.changeLanguage = (language) => {
					$scope.language = language;
					$scope.showAvailableLanguages = false;
					$scope.showTemplate = false;
					getTemplate(language);
				};

				$scope.addLanguage = (lang) => {
					getTemplate({
						original: $scope.language,
						new: lang
					}, false);
					$scope.showAvailableLanguages = false;
					$scope.showTemplate = false;
					$scope.newLanguages.isOpen = false;
					$scope.key = '';
					$scope.language = lang;
				};

				$scope.toggleMenu = () => {
					$scope.showNewLanguages = !$scope.showNewLanguages;
				};

			}
		]);
